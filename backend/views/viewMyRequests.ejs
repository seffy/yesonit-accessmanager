<!DOCTYPE html>
<html lang="en" data-theme="auto">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>YesOnIt! Access Manager</title>
    <meta name="description" content="YesOnIt - Tool Content Development">
    <meta name="keywords" content="YesOnIt, YesOnIt, YesOnIt, YesOnIt, Tool Content Development, Tool Access Management">
    <meta name="author" content="JosephSabana">
    <meta property="og:image" content="img/cover.png">
    <meta property="og:title" content="YesOnIt">
    <meta property="og:description" content="YesOnIt - Tool Content Development">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Icons">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Icons+Outlined">
    <link href="/css/new-styles.css" rel="stylesheet">
    <link href="/css/theme.css" rel="stylesheet">
	
</head>
   <body>
    <div class="main-con">

<%- include('partials/header') %>

<div style="height: 150vh!important;">
 <section class="section container">
  <h2>My Submitted Tool Access Requests</h2>
<div class="container mt-5">


<div class="container mt-4">
  <h3>My Submitted Requests</h3>

  <% if (requests && requests.length > 0) { %>
    <table class="table table-striped mt-3">
      <thead class="table-dark">
        <tr>
          <th>Request ID</th>
          <th>Tool</th>
          <th>Justification</th>
          <th>Status</th>
          <th>Submitted</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <% requests.forEach(request => { %>
          <tr>
            <td><%= request.requestId %></td>
            <td><%= request.toolName %></td>
            <td><%= request.justification %></td>
            <td><%= request.status || 'Pending' %></td>
            <td><%= new Date(request.submittedAt).toLocaleString() %></td>
            <td>
              <a href="/requests/update/<%= request._id %>" class="">Edit</a>
           <form action="/requests/delete/<%= request._id %>" method="POST" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this request?');">
  <button type="submit" class="btn btn-sm btn-danger">Delete</button>
</form>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } else { %>
    <div class="alert alert-info">No submitted requests found.</div>
  <% } %>
</div>


  <a href="/home" class="btn btn-secondary mt-4">Back to Home</a>
</div>

 </section>
 </div>

</div>
    <script src="/js/theme.js"></script>
     <script src="/js/scripts.js"></script>
  
<%- include('partials/footer') %>
</body>
</html>
